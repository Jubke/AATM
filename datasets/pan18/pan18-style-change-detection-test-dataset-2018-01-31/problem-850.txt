Still, it is perhaps of independent interest to explore to what extent the analogy holds, irrespective of the use rationalists and moral realists put it to. One obvious problem is that while mathematics, at least prima facie, is a corpus of truths, this is not exactly the case in ethics. Per Humean view, "murder is wrong" is the imperative "do not murder" rephrased, and imperatives are not eligible for having truth values. This of course is a version of Hume's is-ought guillotine, "never the twain shall meet". Even if we get over non-declaratives having truth values somehow the next problem is the cultural and emotional neutrality of mathematics vs the opposite in ethics. Clarke-Doane creatively uses this wedge to argue that moral realism is more credible than platonism: 

The problem pointed out in the OP, that the world referred to by the arguers is unrealistic, means that the premise is false in our world. Given that, however, B's point is well-taken, i.e. plausibly valid, it is similar to the logic of "in the land of the blind the one-eyed man is king". A, on the other hand, has a problem with his logic on top of the unsoundness. Defending yourself does not amount to killing people at random even if others are killing people at random. It would at most amount to killing people who are a threat, and even that is not given, since self-defense does not necessarily require the killing. 

The problem of causal responsibility is complex even aside from the issues of double effect, see Is it a logical flaw to blame someone for an event if they were simply its causal factor?, and is often approached by analyzing “intentions”. But Anscombe offered a general objection to ethical theories, which, like Kant’s, judge not merely actions, but actions combined with intentions. It is known as the problem of relevant descriptions. The same action may be intentional under one description but not under another (in Anscombe’s example under “pumping water” but not under “contracting muscles”), this is not unlike the interpretational sophistry of double effect. For Kant’s universalization scheme to work at all we should be able to ascribe intentions to others, and he apparently did not appreciate how problematic that is. Here is from Shumski’s The Problem of Relevant Descriptions and the Scope of Moral Principles: 

And under some ethical positions you do share a portion of the blame, say because you failed to resolve your gambling problem, and knew, or should have known, that it might put people who care about you in harm's way. This would be a case of "absence causation", responsibility for inaction/omission. This notion is problematic even in more straightforward examples than yours, as Sartorio points out: 

See also Barron's Kant, Copyright and Communicative Freedom on Kantian subordination of authors' rights to the "public sphere": 

Well, in some ways Callicles comes close. One easily recognizes some of the key themes of Nietzsche's master morality there: the strong dominate the weak by nature, laws protecting the weak are unfair to the strong, morality is not established by gods but by men with their own petty interests, etc. According to Urstad's Nietzsche and Callicles on Happiness, Pleasure, and Power: