If plot armor is a concern, therefore, it is because the engagement is not sufficient. If the engagement is not sufficient, chances are it is because the reader is not engaged by the moral peril of the story. The fix is not obfuscation. The fix is to find the character's true peril. 

An accident must put B in a position where they must either give up their desire or pursue their desire in a way that prevents A from attaining their desire. 

Your backstory seems to have the elements of legend, so this same approach seems workable. 

If your issue is that you do not know how B can betray A, then it may be that A has no desire, B has no desire, B does not know of A's desire, or you cannot contrive a plausible accident that would force B to choose between A's desire and their own. 

First, in the Western tradition at least, death is not the highest stakes. Traditionally we have placed a number of moral factors above death: dishonor, impurity, apostasy. And even among modern atheists, autonomy is placed above death (which is why there is a movement for assisted suicide). 

The post moderns, however, indulge in something quite different: futility. The do not believe in the heroic hope, in the moral dignity of tragedy. For them life is simply futile, and so they write stories of futility, of unrelenting bleakness and cynicism. Can there be comic relief in such a story? I'm not sure. What would there be to laugh at? If there were comic elements, presumably they would be a comedy as cynical as the despair that drives the whole story. It might be comic, but would it provide relief? 

One way to think of plotting is in terms of desire and accidents. The point of a story is (usually) to bring one or more characters to the point where they must face a defining moral choice. What drives them towards that point is desire. What boxes them into a situation where they have to make that choice (since they will otherwise try to avoid it) is accidents. You have reasonable freedom to invent any accidents you need to box your characters in, but you have to be true to their desire. 

And in fact the super-hero movies all follow this formula. X-Men, Ghostbusters, Spiderman, all begin with exile and end with acceptance and reintegration. 

It does not matter what the MacGuffin is. It is what the characters are willing to do, or not willing to do, to get their hands on it. In Casablanca we are asked to believe that there are a pair of magic passes that the local Nazi authorities cannot cancel, even with a known resistance organizer walks out to the plane. It is an absurd conceit, and it doesn't matter, because what really matters is whether or not Rick is going to stand by his word that he does not stick his neck out for anybody. What choice will he make? It is the heart of the story. It is the heart of every story. 

What is the moral question that your protagonist and your antagonist must face? All of your plot should be about forcing them to face that question. Often new writers invent a ton of fake history with no real idea of what story it is supposed to support. And then at a certain point they realize that their characters and their motivations are not very convincing or interesting. And that is because they started from the wrong end of the problem. 

In many cases, A does not know what B's desire is, and so does not know that their friend in tempted to betray them. 

If the only peril driving the story is whether the central character will or will not die, the story is a weak one with no moral core. Concealing who the main character is to make their death seem more possible does not in any way change this. The reader's anxiety about the possible death of a character depends on how much they care about them and how much the root for them (or how much they hope for their salvation). But all that goes with being the main character. Every character should have an arc, but the main character is the character whose arc is the main arc of the story. If there is no arc, they are a red shirt and their death does not matter.