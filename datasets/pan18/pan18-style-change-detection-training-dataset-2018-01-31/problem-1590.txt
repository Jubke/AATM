That being said, the best luck we've had teaching our 21-month-old to share is modelling the desired behavior. When he picks up something that's interesting to him but that we'd rather he didn't play with (the remote, for example) we ask him if we can have it. He brings it over, we take it and thank him PROFUSELY for sharing. Same for his sister; if he picks up her lovey, he brings it to her and gets HUGE thanks for sharing. It's definitely sinking in; all I can hope is it sticks when he hits the "mine" phase. 

Step in and facilitate communication between the two children. As it sounds like he was closing himself off as much as possible, maybe try to help him get out of his shell a bit by sitting with him and explaining what the toddler wants and why she's asking him to play with her; very few of us humans don't like to be needed and wanted. Ask him what YOU can do to help him feel more comfortable (he might not know). If he's still not interacting, explain to her why he's not playing with her ("Bhaiya is new to our house and feels a bit shy; maybe we could play with the toy with him instead? Or maybe you could share another toy?") so he can hear YOU interceding on his behalf and trying to find ways to help him feel comfortable in this environment. 

The idea here is not to teach her how to interact with this one particular person, but to use situations such as the one presented to model the behavior you want her to emulate. If you want her to try to empathize with someone who is uncomfortable in an environment where she has more comfort, engage with her to find different ways to increase the comfort of the person. If you want her to learn how to handle disappointment when someone rebuffs her advances, talk with her about how sometimes people don't want to participate with her play, and help her find ways to deal with her disappointment (I have a 'hugger,' and she's learned both to ask before she hugs, and how to handle the disappointment when someone refuses her request, and is getting much better at handling disappointment in other areas of her life as a result.) 

Developmentally they're at the age where sharing is an alien thing, so what you're seeing isn't necessarily a bellweather for problems down the road. 

And when/if he leaves and your child is disappointed, take a few minutes to remind her of how kind and welcoming she was, what a good job she did sharing, and how she tried her best to make him feel better. At two, their brains are growing and learning so much that it might not seem to make an impact, but your repeated lessons about understanding how others are feeling and finding different ways to interact with them are going to become part of who she is, hopefully leading to the empathetic, engaging adult you're raising. 

Is there a reason you cannot combine the two approaches? It sounds like your ultimate goal is to raise a happy, well-adjusted child who can interact with many different people in different situations (to which I say YAY). In this case, especially considering you're dealing with a 2-year-old, I'd suggest trying to bridge the gap between your two scenarios. 

ETA: Link for some basic developmental information 

Your big chore is going to be talking to your wife about this without coming across as accusatory or implying that she's messing up her child. To tackle our issue, I talked with my husband as it being a "we" issue, even though it's really more 70-30 him (I'm the optimist in the crew and rarely focus on the negative; years and years of therapy helped me get there). And when I pointed out that it was for our kids, and not us, he was immediately on board and didn't just turn over a new stone, he picked up that boulder and chucked it.