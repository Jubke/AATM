Kamen's paper is great reading but I personally am more convinced by J. Israel's rebuttal that re-asserts the traditional picture I have outlined above. While couched in mild language, their view is compatible with the standard thesis. 

Now to the possible causes. First of all, your teacher had two good points. I'll try to expound on them and also on what I think are other possible causes of Spanish decline. One must bear in mind, however, that no one cause can be singled out as the cardinal reason for decline; rather, it was a combination, often mutually reinforcing, of these causes that brought Spain down. The list below is my own and I take full responsibility for its errors and misconceptions: From a very preliminary analysis it seems as if the conversation indeed took place and that Ahtisaari was indeed playing the bad cop routine on Milosevic. However the bloodthirsty quotes ascribed to him look like inventions. 

So apparently somehow "Let's not have dinner" morphed into "Belgrade will be like this table"... The expulsion or persecution-induced-emigration of Jews, Marranos and Moriscos. These measures sapped the Spanish demographic base - perhaps not so much numerically as qualitatively. What I mean is that the expulsion of these populations deprived the Spanish kingdoms of precisely the kind of people they were so sorely to lack in the 17th century: artisans, traders, professionals, etc. A parallel can be drawn here with the revocation of the Edict of Nantes by Louis XIV which cost France its Huguenot population and had a similar adverse long-term effect. Another relevant point - and I am going on a bit of a limb here - is that it took a number of generations for the deleterious effects of the expulsions to be truly felt. This reminds me of Stalins's purges (in the wider sense) in the 1920s-1950s which deprived Russia of its best and brightest - it can be argued that the modern-day problems of Russia can be traced back to that qualitative and quantitative dent Stalin made. But let's return to Spain.