EDIT. Let me add one little remark to this long answer. We know that it took much more time and efforts of Genghis Khan to conquer and unite all Mongolian tribes, then to defeat North Chinese states and Khwarezm. In some sense, uniting Mongolian tribes was a greater feat. And certainly he had no advantage in weapons or technology when he did this. Expedition to Eastern Europe by his descendants was a small episode by comparison. 

And you don't have to use the Roman empire for comparison. Compare the part of GDP which was collected in taxes in the late 19-th century US with the modern numbers:-) There were very few exceptions in the history of Soviet Union. For example, a Polish unit was formed during WW2 of the Poles taken prisoners in 1939 and other Poles. 

Another very famous episode which had enormous influence is Anabasis by Xenpophon, which essentially describes a retreat after a lost battle. There is no doubt that it is so famous only because of Xenophon's book. This is in sharp contrast with Mongol's attitude: they KNEW where they were going, they knew all details about the situation in Europe when they came there. They knew what they needed to know. They sent spies. They did meticulous planning. Again this has to be credited to their supreme leadership. 

EDIT. But the most important consideration is what your potential enemy does. After WWII, the US concluded that aircraft carriers and submarines were the desirable ships, and kept some old battleships, just for the case. Soviet Union never built a battleship, but they had some foreign-built. They were working on how to destroy the US carriers and submarines, and decided that building battleships is not a solution. And so on. The whole story of Peloponnese War is known to us from the excellent accounts which was written mainly by Athenian authors, the loosing party. And only because Spartans and their allies did not cultivate historical literature. With all this, it is of course true that ancient societies could not spend as large part of GDP on government expenses as modern ones, simply because the labor productivity is incomparable. For most of the history most people worked just for subsistence. It is only surplus production besides the subsistence, which can be used on all other expenses, including military. While I found other novels of the series quite entertaining, this is breaking the suspension of disbelief. I cannot think of any other action which is more damning that the person is unfit for command than betrayal. In fact, the usual course of action is that if the traitor is caught, his former superiors show profound displeasure with the actions. 

Because "traitor" is often used as polemical term, I rule out some at least comprehensible edge cases. If the military commander acted because he reasonably feared that he was to be executed or ruined not because of misbehavior, but as a political sacrifice or because someone sees him as an inconvenient person, I don't count it. I also don't count it if the actions of the superiors can be reasonably counted as betrayal itself (Offering a defended city if the own life and belongings are spared). I also exclude whistleblowing, showing that something is profoundly wrong without personal gratification. Knowing that humans are capable of truly disturbing amounts of stupidity: What I want is really a stab-in-the-back-and-turn-around-the-blade betrayal. Selling secrets or necessary equipment for money. Fall own units in the back or abandon them because it suits oneself. Trying to build an own empire without provocation. That kind of thing. The battle of Thermopylae (300 Spartans) is a prime example:-) I think no comments are required because everyone knows this example very well. Only police (which was not related to the Army) was manned locally. In the modern (20 century) wars encirclement is always a disadvantage because modern armies need enormous amount of supplies to continue fighting. For this reason an encircled army cannot hold for long time. 

Persian literature of that time did not survive to our days, but one can be reasonably sure that Persians did not consider this battle as something very important. Moreover, one can conjecture that the battle is so famous mainly because of its description by Herodotus, and because the writings of Herodotus survived. The whole story of Peloponnese War is known to us from the excellent accounts which was written mainly by Athenian authors, the loosing party. And only because Spartans and their allies did not cultivate historical literature. There were very few exceptions in the history of Soviet Union. For example, a Polish unit was formed during WW2 of the Poles taken prisoners in 1939 and other Poles. 

What I want is really a stab-in-the-back-and-turn-around-the-blade betrayal. Selling secrets or necessary equipment for money. Fall own units in the back or abandon them because it suits oneself. Trying to build an own empire without provocation. That kind of thing. Because "traitor" is often used as polemical term, I rule out some at least comprehensible edge cases. If the military commander acted because he reasonably feared that he was to be executed or ruined not because of misbehavior, but as a political sacrifice or because someone sees him as an inconvenient person, I don't count it. I also don't count it if the actions of the superiors can be reasonably counted as betrayal itself (Offering a defended city if the own life and belongings are spared). I also exclude whistleblowing, showing that something is profoundly wrong without personal gratification. Knowing that humans are capable of truly disturbing amounts of stupidity: 

Was there ever a case that a traitorous military commander took command again for the side he betrayed and the superiors knew that he is a traitor?